<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Morphisme</title>
  <style>
    body { margin: 0; color: #FFFFFF; font-family: "Helvetica", sans-serif;background-color:#FFFFFF}
    canvas { width: 100%; height: 100% }
    .slider-container { position: absolute; top: 10px; left: 10px; }
    
  </style>
</head>
<body>
  <div class="slider-container">
    <p>Morphisme</p>
    <input type="range" id="mixSlider" min="0" max="1" step="0.01" value="0.5">
    <p id="mixValue">0.5</p>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
  <script>
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 5000);
    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const pointsDeming = [];
    const pointsHolling = [];
    const mixedPoints = [];
    const rd = 0.04;
    const rh = 0.4;
    const numPoints = 100;

    for (let i = 0; i < numPoints; i++) {
      pointsDeming.push(new THREE.Vector3((rd * Math.cos(i*20*Math.PI/50)), (rd * Math.sin(i*20*Math.PI/50)), i/100));
    }
    for (let i = 0; i < numPoints; i++) {
      pointsHolling.push(new THREE.Vector3((rh * Math.cos(i*2*Math.PI/50)), (rh * Math.sin(i*4*Math.PI/50)), i/100));
    }

 
    for (let i = 0; i < numPoints; i++) {
      mixedPoints.push(new THREE.Vector3());
    }

    const geometry = new THREE.BufferGeometry().setFromPoints(mixedPoints);
    const material = new THREE.LineBasicMaterial({ color: 0xffffff });
    const line = new THREE.Line(geometry, material);
    scene.add(line);

    const axesHelper = new THREE.AxesHelper(1);
    scene.add(axesHelper);
    camera.position.z = 4;

    let mixFactor = 0; 

    function interpolatePoints(factor) {
      for (let i = 0; i < numPoints; i++) {
        mixedPoints[i].lerpVectors(pointsDeming[i], pointsHolling[i], factor);
      }
      geometry.setFromPoints(mixedPoints);
    }

    function animate() {
      requestAnimationFrame(animate);
      interpolatePoints(mixFactor);
      line.rotation.x += 0.01;
      line.rotation.y += 0.005;
      axesHelper.rotation.x += 0.01;
      axesHelper.rotation.y += 0.005;
      renderer.render(scene, camera);
    }

    animate();

    const mixSlider = document.getElementById('mixSlider');
    const mixValue = document.getElementById('mixValue');

    mixSlider.addEventListener('input', () => {
      mixFactor = parseFloat(mixSlider.value);
      mixValue.textContent = mixFactor.toFixed(2);
    });
  </script>
</body>
</html>
